<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Face the Vote</title>
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    
    <!-- base -->
    <script>
        navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;
        window.URL = window.URL || window.webkitURL || window.msURL || window.mozURL;

        var intro, permission, watch, results, how, destinationPage, vid, overlay, overlayCC, analytics, smileTracker, currentVideo, smileTrackingLost;
        
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    </script>
    <script src="js/lib/webcam.js"></script>
    <script src="js/lib/videoSwitcher.js"></script>
    
    <!-- smile tracker  -->
    <script src="js/lib/external/clm/utils.js"></script>
    <script src="js/lib/external/clm/clmtrackr.js"></script>
    <script src="models/model_pca_20_svm.js"></script>
    <script src="js/lib/external/clm/Stats.js"></script>
    <!--<script src="http://d3js.org/d3.v3.min.js"></script>-->
    <script src="js/lib/external/clm/d3.js"></script>
    <script src="js/lib/external/clm/emotion_classifier.js"></script>
    <script src="js/lib/external/clm/emotionmodel.js"></script>
    <script src="js/lib/smileTracker.js"></script>
    <script src="js/lib/ranking.js"></script>
    
    <!-- master -->
    <script src="js/main.js"></script>

  </head>
  <body>
      
      <div class="container">
          <div class="page intro" data-pageName="intro">
              <h1 class="startTitle">FACE THE VOTE</h1>
              <p>Your face never lies when it comes to what you like. So why not let your face tell us which Crash finalist you like most. Click below to “face the vote” before our voting window closes.</p>
              <button class="startButton">Get Started!</button>
          </div>
          <div class="page hidden permission" data-pageName="permission">
              <h1 class="webcamTitle">Can We Borrow Your Webcam?</h1>
              <p>FACT: For this whole “vote with your face” thing to work properly, you'll need to click "Allow" in the dropdown beneath your browser toolbar or in the pop-up window. Once you do, be ready to watch the videos.</p>
              <p class="disclaimer">*BY CLICKING ‘ALLOW’, YOU AGREE TO LET US ACCESS YOUR WEBCAM. THIS WIDGET IS INTEDED TO HELP DETERMINE WHICH VIDEOS MAKE YOU SMILE THE MOST BUT DOES NOT VOTE FOR YOU OR REGISTER ANY VOTES FOR YOU.  YOU MUST VOTE ON YOUR OWN WITH YOUR OWN FINGERS, IN ACCORDANCE WITH THE <a href="https://thismoment-a.akamaihd.net/other/1381199386-2019.pdf" target="_blank">CRASH THE SUPER BOWL RULES</a>.</p>
          </div>
          <div class="page hidden watch" data-pageName="watch">
              <div class="player"></div>
              <div id='emotion_chart'></div>
          </div>
          <div class="page hidden results" data-pageName="results">
              <div class="statsContainer">
                  <div class="ostrichStats hidden">
                      <h1>Breakroom Ostrich</h1>
                      <div class="voteOstrich">Vote Ostrich</div>
                      <button class="howButton">How this works</button>
                      <div class="graph"><canvas id="ostrichCanvas" width="297" height="199"></canvas></div>
                      <p>Total Number of Smiles: <span class="smilenum"></span></p>
                      <div class="voteButton">Vote</div>
                  </div>
                  <div class="officeStats hidden">
                      <h1>Office Thief</h1>
                      <div class="voteOffice">Vote Office</div>
                      <button class="howButton">How this works</button>
                      <div class="graph"><canvas id="officeCanvas" width="297" height="199"></canvas></div>
                      <p>Total Number of Smiles: <span class="smilenum"></span></p>
                      <div class="voteButton">Vote</div>
                  </div>
                  <div class="fingerStats hidden">
                      <h1>Finger Cleaner</h1>
                      <div class="voteFinger">Vote Finger Cleaner</div>
                      <button class="howButton">How this works</button>
                      <div class="graph"><canvas id="fingerCanvas" width="297" height="199"></canvas></div>
                      <p>Total Number of Smiles: <span class="smilenum"></span></p>
                      <div class="voteButton">Vote</div>
                  </div>
                  <div class="timeStats hidden">
                      <h1>Time Machine</h1>
                      <div class="voteTime">Vote Time Machine</div>
                      <button class="howButton">How this works</button>
                      <div class="graph"><canvas id="timeCanvas" width="297" height="199"></canvas></div>
                      <p>Total Number of Smiles: <span class="smilenum"></span></p>
                      <div class="voteButton">Vote</div>
                  </div>
                  <div class="cowboyStats hidden">
                      <h1>Cowboy Kid</h1>
                      <div class="voteCowboy">Vote Cowboy</div>
                      <button class="howButton">How this works</button>
                      <div class="graph"><canvas id="cowboyCanvas" width="297" height="199"></canvas></div>
                      <p>Total Number of Smiles: <span class="smilenum"></span></p>
                      <div class="voteButton">Vote</div>
                  </div>
                  <div class="winner">
                      <h1 class="resultsTitle">YOU HAVE A WINNER</h1>
                      <div class="wrap">
                        <p>Your mug has picked a favorite for you. Now roll over the thumbnails below to place that vote.</p>
                      </div>
                  </div>
              </div> <!-- end stats -->
              <div class="resultsVideos">
                  <ul>
                      <li class="ostrichThumb">
                          <a href="#"><img src="images/ostrich-thumb.png"></a>
                      </li>
                      <li class="officeThumb">
                          <a href="#"><img src="images/office-thumb.png"></a>
                      </li>
                      <li class="fingerThumb">
                          <a href="#"><img src="images/finger-thumb.png"></a>
                      </li>
                      <li class="timeThumb">
                          <a href="#"><img src="images/time-thumb.png"></a>
                      </li>
                      <li class="cowboyThumb">
                          <a href="#"><img src="images/cowboy-thumb.png"></a>
                      </li>
                  </ul>
              </div>
              
          </div><!-- end results -->
          <div class="page hidden how" data-pageName="how">
              <video id="videoel" width="400" height="300" preload="auto" loop></video>
              <canvas id="overlay" width="400" height="300"></canvas>
          </div>  
      </div><!-- end container -->
  </body>
  </html>